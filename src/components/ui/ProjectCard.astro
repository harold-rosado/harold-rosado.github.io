---
import Badge from '@/components/ui/Badge.astro';
import Button from '@/components/ui/Button.astro';

interface Props {
  title: string;
  description: string;
  image: string;
  tags: string[];
  href: string;
  class?: string;
}

const { title, description, image, tags, href, class: className, ...rest } = Astro.props;
---

<article
  class:list={[
    'border-border bg-surface group flex flex-col overflow-hidden rounded-2xl border transition-all duration-300 hover:shadow-2xl hover:shadow-indigo-500/20',
    className,
  ]}
  {...rest}
>
  <a href={href} target="_blank" rel="noopener noreferrer">
    <figure
      class="relative block h-60 overflow-hidden bg-linear-to-br from-indigo-500 to-indigo-700 p-6"
    >
      <img
        src={image}
        alt={`Portada del proyecto ${title}`}
        class="h-full w-full rounded-xl object-cover shadow-2xl transition-transform duration-500 group-hover:scale-105"
        loading="lazy"
      />
    </figure>
  </a>

  <div class="flex flex-1 flex-col p-6 text-start">
    <a
      href={href}
      target="_blank"
      rel="noopener noreferrer"
      class="hover:text-accent transition-colors"
    >
      <h3 class="text-primary text-xl font-bold">{title}</h3>
    </a>

    <p class="text-secondary mt-2 line-clamp-3 flex-1">
      {description}
    </p>

    <div class="mt-3 flex flex-wrap gap-2">
      {tags.map((tag) => <Badge>{tag}</Badge>)}
    </div>

    <div class="mt-3 pt-2">
      <a href={href} target="_blank" rel="noopener noreferrer">
        <Button variant="filled" class="w-full sm:w-auto">Conocer m√°s</Button>
      </a>
    </div>
  </div>
</article>
